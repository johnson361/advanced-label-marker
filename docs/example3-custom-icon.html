<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Dynamic Image Options | AdvancedLabelMarker Documentation</title>
    <meta name="description" content="Tutorial: How to use the icon, iconWidth, and iconHeight options in AdvancedLabelMarker to quickly style map markers.">

    <script type="importmap">
    {
        "imports": {
            "@johnson361/advanced-label-marker": "https://cdn.jsdelivr.net/npm/@johnson361/advanced-label-marker/index.js"
        }
    }
    </script>

    <link rel="stylesheet" href="styles.css">
    <style>
        /* CSS for the iconClass option */
        .avatar-marker {
            border-radius: 50%;
            border: 3px solid #27ae60;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
            object-fit: cover;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .avatar-marker:hover {
            transform: scale(1.15) translateY(-5px);
            border-color: #2ecc71;
            z-index: 1000;
        }
    </style>
</head>

<body>

    <header>
        <div class="brand">
            <h1>AdvancedLabelMarker</h1>
            <span>v3.1.0 ‚Ä¢ Library Demo</span>
        </div>
    </header>

    <div class="main-wrapper">
        <aside class="sidebar">
            <nav class="nav-card">
                <div class="nav-header">Library Examples</div>
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link" >
                            <span class="icon">üèóÔ∏è</span> Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="example1-custom-html-marker.html" class="nav-link">
                            <span class="icon">üèóÔ∏è</span> Basic HTML Marker
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="example2-info-window-on-html-marker.html" class="nav-link">
                            <span class="icon">üí¨</span> InfoWindow Setup
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="example3-custom-icon.html" class="nav-link active">
                            <span class="icon">üé®</span> Custom Icon Styles
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="example4-cluster.html" class="nav-link">
                            <span class="icon">üß¨</span> Marker Clustering
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <main class="content">
            <article class="info-card">
                <h2>Icon Configuration Options</h2>
                <p>Instead of manually creating image elements, you can pass an <code>icon</code> URL directly into the options. The library will automatically apply the <code>iconWidth</code>, <code>iconHeight</code>, and <code>iconClass</code> you provide.</p>
            </article>

            <div class="display-area">
                <div id="map-wrapper">
                    <div id="map"></div>
                </div>

                <div class="example-card">
                    <h3>Implementation Code</h3>
                    <div class="code-block">
const marker = new AdvancedLabelMarker({
    map: map,
    position: { lat: 49.478, lng: -123.847 },

    // Passing options used by setIcon internally:
    icon: 'https://images.unsplash.com/photo...',
    iconWidth: '60px',
    iconHeight: '60px',
    iconClass: 'avatar-marker',
    iconAlt: 'User Avatar'
});</div>
                </div>
            </div>

            <section class="info-card" style="border-left-color: var(--slate-900);">
                <h3>üöÄ Quick Start Guide</h3>
                <hr>
                <p><strong>1. Install Library</strong><br>
                <code>npm install @johnson361/advanced-label-marker</code></p>

                <p><strong>2. View Live Demos</strong><br>
                Explore more interactive examples at: <a href="https://johnson361.github.io/advanced-label-marker/" style="color: var(--primary); font-weight: 600;">johnson361.github.io/advanced-label-marker/</a></p>

                <p><strong>3. Configure API Key</strong><br>
                Update the script tag below with your own Google Maps API Key to enable map rendering.</p>
            </section>
        </main>
    </div>

    <script src="https://maps.googleapis.com/maps/api/js?key=&libraries=marker&v=weekly"></script>

    <script type="module">
        import AdvancedLabelMarker from '@johnson361/advanced-label-marker';

        async function init() {
            if (typeof google === 'undefined') return;

            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 14,
                center: { lat: 49.478, lng: -123.847 },
                mapId: "DEMO_MAP_ID"
            });

            // Utilizing the options that trigger the internal setIcon logic
            const marker = new AdvancedLabelMarker({
                map: map,
                position: { lat: 49.478, lng: -123.847 },
                icon: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&w=120&q=80',
                iconWidth: '40px',
                iconHeight: '40px',
                iconClass: 'avatar-marker',
                iconAlt: 'Profile Picture'
            });

            const infoWindow = new google.maps.InfoWindow({
                content: `
                    <div style="padding:10px; font-family: sans-serif;">
                        <b style="color:var(--primary)">Auto-Generated Icon</b><br>
                        <span style="color:#64748b; font-size:12px;">Sized and styled via init options.</span>
                    </div>`,
                pixelOffset: new google.maps.Size(0, -5)
            });

            marker.addListener('click', () => {
                infoWindow.open({
                    anchor: marker.marker,
                    map: map
                });
            });
        }

        window.addEventListener('load', init);
    </script>
</body>

</html>